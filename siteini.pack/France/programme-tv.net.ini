**------------------------------------------------------------------------------------------------
* @header_start
* WebGrab+Plus ini for grabbing EPG data from TvGuide websites
* @Site: programme-tv.net
* @MinSWversion: V2.1
* @Revision 10 - [13/02/2022] doglover
* 	Update
* @Revision 9 - [05/0211/2022] doglover
* 	Channel list fixed
* @Revision 8 - [27/01/2022] doglover
* 	Detail pages fixed
* @Revision 7 - [26/06/2021] doglover
* 	Ìndex page changed.
* @Revision 6 - [22/04/2021] doglover
*     - description pages fixed. (again)
* @Revision 5 - [25/02/2020] doglover
*     - description pages fixed. (again)
* @Revision 4 - [22/01/2020] doglover
*     - detail pages fixed.
* @Revision 3 - [17/09/2019] doglover
*     - director and actor fixed
* @Revision 2 - [13/08/2019] doglover
*     - changes on the website
* @Revision 1 - [05/04/2019] doglover
*     - change in urlshow
* @Revision 0 - [11/02/2015] doglover
*     - creation
* @Remarks: 
* @header_end
**------------------------------------------------------------------------------------------------
site {url=programme-tv.net|timezone=Europe/Paris|maxdays=7|cultureinfo=fr-FR|charset=UTF-8|titlematchfactor=90}
site {ratingsystem=FR|episodesystem=onscreen}
url_index {url|https://www.programme-tv.net/programme/chaine/|urldate|/programme-|channel|.html}
url_index.headers {customheader=Accept-Encoding=gzip,deflate}
urldate.format {datestring|yyyy-MM-dd}
*
index_urlchannellogo {url||<div class="channelGrid-logo">|data-src="|"|</header>}
index_showsplit.scrub {regex||<div class="mainBroadcastCard[^"]*"\s*data-wide-target>.*?</p>[^<]*</div>[^<]*</div>||}
*
index_start.scrub {single|<p class="mainBroadcastCard-startingHour"|>|</p>|</p>}
index_title.scrub {single|<h3 class="mainBroadcastCard-title"|>|</h3>|</h3>}
*index_subtitle.scrub {single(exclude="Épisode")|<p class="mainBroadcastCard-subtitle">||</p>|</p>}
index_duration.scrub {single|<span class="mainBroadcastCard-durationContent">||</span>|</span>}
index_start.modify {replace|h|:}
index_duration.modify {cleanup}
index_duration.modify {remove|min}
index_duration.modify {replace(type=regex)|"h$"|:00}
index_duration.modify {replace|h|:}
index_title.modify {cleanup(tags="<"">")}
index_title.modify {cleanup}
index_title.modify {remove(type=regex)|"\s*\(.*?\)$"}
*
index_urlshow {url ()||class="mainBroadcastCard-title"|href="|"|</}
index_urlshow.headers {customheader=Accept-Encoding=gzip,deflate,br}
title.modify {addstart|'index_title'}
description.scrub {multi (separator="</span>" exclude="Lire la suite")|<section class="program|<div class="synopsis defaultStyleContentTags">|</section>|</section>}
description.modify {cleanup(tags="<"">")}
description.modify {cleanup}
description.modify {replace|\||\n}
description.modify {replace|&amp;|&}
productiondate.scrub {single|<div class="overview-overviewSubtitle">||</div>,}
category.scrub {multi(include=first separator=" - ")|<li class="overview-overviewSubtitleItem">||</li>|</li>}
country.scrub {multi(exclude=first separator=" - ")|<li class="overview-overviewSubtitleItem">||</li>|</li>}
subtitle.scrub {multi (separator=":" exclude="Saison""Épisode"))|<h1 class="overview-overviewTitle">||</|</h1}
episode.scrub {multi (separator=":" include="Saison""Épisode"))|<h1 class="overview-overviewTitle">||</|</h1}
episode.modify {remove|:}
episode.modify {cleanup}
episode.modify {replace|Saison|S}
episode.modify {replace|Épisode|E}
episode.modify {remove| }
episode.modify {remove|-}
actor.scrub {multi (exclude="Réalisateur""Scénariste""Musique")|<ul class="people-list">|<figcaption class="personCard-mediaLegend">|</figure>|</ul>}
actor.modify {replace|<div class="personCard-mediaLegendRole">| - }
*actor.modify {cleanup}
actor.modify {cleanup(tags="<"">")}
*actor.modify {cleanup(removeduplicates)}
director.scrub {multi (include="Réalisateur""Scénariste")|<ul class="people-list">|<figcaption class="personCard-mediaLegend">|</figure>|</ul>}
director.modify {replace|<div class="personCard-mediaLegendRole">| - }
*director.modify {cleanup}
director.modify {cleanup(tags="<"">")}
director.modify {cleanup(removeduplicates)}
**  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _
**      #####  CHANNEL FILE CREATION (only to create the xxx-channel.xml file)
**
** @auto_xml_channel_start  ()
*url_index{url()|https://www.programme-tv.net/_esi/channel-list/|urldate|/?bouquet=perso&modal=0}
*index_site_id.scrub {multi ()|<a href="https://www.programme-tv.net/programme/chaine/|/programme-|.html|</a>}
*index_site_channel.scrub {multi|<a href="https://www.programme-tv.net/programme/chaine/|title="|"|</a>}
*index_site_id.modify {cleanup(removeduplicates=equal,100 link="index_site_channel")}
** @auto_xml_channel_end
